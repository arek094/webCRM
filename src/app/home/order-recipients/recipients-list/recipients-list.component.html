
<button mat-icon-button matTooltip="Odśwież" (click)="refreshList()"> 
  <mat-icon>refresh</mat-icon>
</button>

<mat-form-field>
  <input matInput (keyup)="applyFilter($event.target.value)" placeholder="{{ 'ORDERRECIPIENTS.SEARCH' | translate }}">
</mat-form-field>


<table
  mat-table
  [dataSource]="dataSource"
  multiTemplateDataRows
  
>
  <ng-container matColumnDef="nr_zam">
    <th mat-header-cell *matHeaderCellDef> {{ 'ORDERRECIPIENTS.ORDERNUMBER1' | translate }} </th>
    <td mat-cell *matCellDef="let element">{{element.nr_zam}}</td>
  </ng-container>
 
  <ng-container matColumnDef="data_zam">
    <th mat-header-cell *matHeaderCellDef> {{ 'ORDERRECIPIENTS.data_zam' | translate }}</th>
    <td mat-cell *matCellDef="let element">{{element.data_zam}}</td>
  </ng-container>

  <ng-container matColumnDef="data_wprowadzenia">
    <th mat-header-cell *matHeaderCellDef> {{ 'ORDERRECIPIENTS.data_wprowadzenia' | translate }}</th>
    <td mat-cell *matCellDef="let element">{{element.data_wprowadzenia}}</td>
  </ng-container>

  <ng-container matColumnDef="nr_zam_crm">
    <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.nr_zam_crm' | translate }}</th>
    <td mat-cell *matCellDef="let element">{{element.nr_zam_crm}}</td>
  </ng-container>

  <ng-container matColumnDef="anulowany">
    <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.anulowany' | translate }}</th>
    <td mat-cell *matCellDef="let element">{{element.anulowany}}</td>
  </ng-container>

  

  <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
  <ng-container matColumnDef="expandedDetail">
    <td
      mat-cell
      *matCellDef="let element"
      [attr.colspan]="9"
    >
      <div
        class="example-element-detail"
        [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'"
      >
        <div class="example-element-diagram">
            <table class="inner-table" mat-table [dataSource]="dataSourcePoz" >
                <!-- Seq Column -->
               
                                <ng-container matColumnDef="nazwa">
                                    <th mat-header-cell *matHeaderCellDef> {{ 'ORDERRECIPIENTS.nazwa' | translate }}</th>
                                    <td mat-cell *matCellDef="let element">{{element.nazwa}} </td>
                                </ng-container>

                                <ng-container matColumnDef="kod_artykulu">
                                  <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.kod_artykulu' | translate }}</th>
                                  <td mat-cell *matCellDef="let element">{{element.kod_artykulu}} </td>
                                </ng-container>
                                
                                <ng-container matColumnDef="ilosc">
                                  <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.ilosc' | translate }}</th>
                                  <td mat-cell *matCellDef="let element">{{element.ilosc}} </td>
                                </ng-container>
                                
                                <ng-container matColumnDef="ilosc_plan">
                                  <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.ilosc_plan' | translate }} </th>
                                  <td mat-cell *matCellDef="let element">{{element.ilosc_plan}} </td>
                                </ng-container>

                                <ng-container matColumnDef="data_wysylki_plan">
                                  <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.data_wysylki_plan' | translate }} </th>
                                  <td mat-cell *matCellDef="let element">{{element.data_wysylki_plan}} </td>
                                </ng-container>

                                <ng-container matColumnDef="anulowany">
                                  <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.anulowany' | translate }}</th>
                                  <td mat-cell *matCellDef="let element">{{element.anulowany}} </td>
                                </ng-container>

                                <ng-container matColumnDef="ilosc_wyslana">
                                  <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.ilosc_wyslana' | translate }} </th>
                                  <td mat-cell *matCellDef="let element">{{element.ilosc_wyslana}} </td>
                                </ng-container>
                               
                                <ng-container matColumnDef="cena">
                                  <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.cena' | translate }} </th>
                                  <td mat-cell *matCellDef="let element">{{element.cena}}</td>
                                </ng-container>

                                <ng-container matColumnDef="waluta">
                                  <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.waluta' | translate }} </th>
                                  <td mat-cell *matCellDef="let element">{{element.waluta}}</td>
                                </ng-container>

                                <ng-container matColumnDef="eany">
                                  <th mat-header-cell *matHeaderCellDef>{{ 'ORDERRECIPIENTS.eany' | translate }} </th>
                                  <td mat-cell *matCellDef="let element">{{element.eany}}</td>
                                </ng-container>

                <tr mat-header-row *matHeaderRowDef="expandDisplayedColumns"></tr>
                                <tr mat-row *matRowDef="let element; columns: expandDisplayedColumns;"></tr>        
                                          
            </table>
            <mat-spinner *ngIf="loading"></mat-spinner>  
        </div>
       
      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr
    mat-row
    *matRowDef="let element; columns: columnsToDisplay;"
    class="example-element-row"
    style="cursor: pointer;"
    [class.example-expanded-row]="expandedElement === element"
    (click)= "napelnij(element);"
    (click)="(expandedElement = expandedElement === element ? null : element);"
  ></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: ['expandedDetail']"
    class="example-detail-row"
  ></tr>
  
</table>
<mat-spinner *ngIf="loading_nag"></mat-spinner>  

